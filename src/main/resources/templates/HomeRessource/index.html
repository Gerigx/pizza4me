{#include HomeRessource/base.html}
{#title}Pizze da Dio di Sanji{/title}
{#main}
<div class="container-fluid p-0">

    <!-- Hero Section (dein bestehendes Design) -->
    <div class="text-white text-center d-flex flex-column justify-content-center align-items-center"
         style="background-image: url('/assets/pizza3.jpg');
         background-size: cover;
         background-position: center;
         height: 400px;">
        <h1 class="display-3 bg-dark bg-opacity-50 px-4 py-2 rounded mb-3">
            Pizze da Dio di Sanji
        </h1>
        <p class="lead bg-dark bg-opacity-50 px-3 py-2 rounded">
            Authentische Northblue Pizza, frisch zubereitet
        </p>
    </div>

    <!-- Main CTA -->
    <div class="text-center py-5">
        <div id="guestCTA">
            <a href="/pizzen" class="btn btn-lg btn-primary px-5 py-3 me-3 mb-3">üçï Pizzen entdecken</a>
            <a href="/auth/register" class="btn btn-lg btn-outline-primary px-5 py-3 mb-3">üìù Jetzt bestellen</a>
        </div>
        
        <div id="userCTA" class="d-none">
            <a href="/pizzen" class="btn btn-lg btn-primary px-5 py-3 me-3 mb-3">üçï Pizzen bestellen</a>
            <a href="#" onclick="goToMyProfile()" class="btn btn-lg btn-outline-secondary px-4 py-3 mb-3">üë§ Mein Profil</a>
        </div>
    </div>

    <!-- Features (einfach & clean) -->
    <div class="container py-5">
        <div class="row text-center">
            <div class="col-md-4 mb-4">
                <div class="p-4">
                    <div class="display-4 mb-3">üöÄ</div>
                    <h5>Schnelle Lieferung</h5>
                    <p class="text-muted">Frisch und hei√ü in 30 Minuten √ºberall auf der Grandline</p>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="p-4">
                    <div class="display-4 mb-3">üåø</div>
                    <h5>Frische Zutaten</h5>
                    <p class="text-muted">T√§glich frisch aus dem Northblue</p>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="p-4">
                    <div class="display-4 mb-3">‚ù§Ô∏è</div>
                    <h5>Mit Liebe gemacht</h5>
                    <p class="text-muted">Traditionelle Familienrezepte der Familie Windsmoke</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Simple Stats -->
    <div class="bg-primary text-white py-5">
        <div class="container">
            <div class="row text-center">
                <div class="col-md-4 mb-3">
                    <h3 class="display-4">500+</h3>
                    <p>Zufriedene Kunden</p>
                </div>
                <div class="col-md-4 mb-3">
                    <h3 class="display-4">50+</h3>
                    <p>Pizza-Variationen</p>
                </div>
                <div class="col-md-4 mb-3">
                    <h3 class="display-4">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</h3>
                    <p>Durchschnittliche Bewertung</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Final CTA -->
    <div class="text-center py-5">
        <h3 class="mb-4">Bereit f√ºr die beste Pizza der Grandline?</h3>
        <a href="/pizzen" class="btn btn-lg btn-success px-5 py-3">üçï Jetzt bestellen</a>
    </div>

</div>

<!-- Simple JavaScript f√ºr dynamische CTAs -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
    // Check if user is logged in
    const token = localStorage.getItem('authToken');
    const userInfo = localStorage.getItem('userInfo');
    
    if (token && userInfo) {
        // User is logged in - show user CTA
        document.getElementById('guestCTA').classList.add('d-none');
        document.getElementById('userCTA').classList.remove('d-none');
    } else {
        // User not logged in - show guest CTA  
        document.getElementById('guestCTA').classList.remove('d-none');
        document.getElementById('userCTA').classList.add('d-none');
    }
});

    function goToMyProfile() {
        const userInfo = localStorage.getItem('userInfo');
        if (userInfo) {
            const user = JSON.parse(userInfo);
            window.location.href = '/kunde/' + getCurrentUserId();
        } else {
            window.location.href = '/auth/login';
        }
    }

    function getCurrentUserId() {
        const token = localStorage.getItem('authToken');
        if (token) {
            const payload = JSON.parse(atob(token.split('.')[1]));
            return payload.kundeId;
        }
        return null;
    }
</script>

<style>
/* Smooth hover effects */
.btn {
    transition: all 0.3s ease;
}

.btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

/* Features hover effect */
.col-md-4 > div {
    transition: all 0.3s ease;
    border-radius: 10px;
}

.col-md-4:hover > div {
    background-color: #f8f9fa;
    transform: translateY(-5px);
}
</style>
{/main}
{/include}